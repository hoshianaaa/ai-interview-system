# 料金体系（加入日基準 / 月額サブスク）

## 1. サブスクの基本ルール（Billing Cycle）
- サブスクは「加入日（決済日）を起点に1ヶ月単位」で更新する（例：1/15加入 → 2/15更新）。
- 更新日は原則「同日」。同日が存在しない月は「月末」を更新日とする（例：8/31加入 → 9/30更新）。
- 料金計算・利用枠（面接時間枠）のリセットは「更新日時点」で行う（カレンダー月ではない）。

## 2. プラン構成
- プランは1つのみ：「スターター」
- 月額料金：3,000円（税の扱いは別途仕様で指定がなければ税込/税別は未確定として扱う）

## 3. 利用枠（面接時間）
- スターター加入者は、1サイクル（加入日〜翌月更新日前まで）につき「面接時間100分」まで利用可能。
- 利用枠はサイクル更新時に100分へリセットされ、前サイクルの未使用分は繰り越さない。

## 4. 超過課金（従量課金）
- 100分を超えた分は「30円/分」で超過利用として加算する。
- 超過分はリアルタイム決済ではなく「翌月（次回更新時）に請求」される。
- 超過金額には上限を設ける：
  - 初期状態では「超過合計3,000円（=100分相当）まで」しか超過できない（超過上限ロック）。
  - 超過合計が3,000円に到達した時点で、それ以上の面接開始/継続を不可にする（または面接時間追加消費を止める）。
  - システム管理者が承認（admin_approved_overage=true等）した場合に限り、超過上限ロックを解除し、それ以降も超過利用を許可する（解除後の上限は別途設定可能 / 無制限でも可）。

## 5. 未加入ユーザー（無料プランなし）
- 未加入ユーザーはログイン不可（認証後に必ず加入状態チェックを行い、未加入ならログアウト/アクセス拒否/加入導線へ誘導）。
- したがって「無料枠」「過去データ閲覧」等の機能提供は行わない（ログイン不可のため）。

## 6. 表示・文言（UI/請求のわかりやすさ）
- ユーザー画面では次を表示する：
  - 次回更新日（次回決済予定日）
  - 今サイクルの残り面接時間（/100分）
  - 超過利用分（分）と超過料金（円）
  - 超過上限までの残り（円 or 分）
  - 超過上限到達時は「管理者承認待ち」状態を明示

## 7. 例（動作確認用の具体例）
- 1/10加入 → サイクルは 1/10〜2/10
- 1/10〜2/10に面接120分利用：
  - 基本枠100分
  - 超過20分 → 20*30=600円
  - 2/10の更新時に「月額3,000円＋超過600円」を請求
  - 2/10時点で面接時間枠は100分にリセット、超過カウンタも0に戻す

